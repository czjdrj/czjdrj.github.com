<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>苹果菜单</title>
<style>
body{
	background:#333;
}
*{
	margin:0;
	padding:0;
}
#tips{
	width:300px;
	position:absolute;
	left:0;
	top:100px;
}
#tips p{
	font-size:16px;
	margin:10px;
	color:#fff;
}
#div1{
	width:100%;
	position:fixed;
	bottom:50%;
	left:0;
	text-align:center;
}
#div1 img{
	width:64px;
	height:64px;
	cursor:pointer;
}
/*.ipt{
	width:100%;
	text-align:center;
}*/
</style>
<script>
window.onload=function(){
	var oDiv=document.getElementById("div1");
	var aImg=document.getElementsByTagName("img");
	//var aIpt=document.getElementsByTagName("input");
	
	document.onmousemove=function(ev){
		var oEvt=ev||event;
		for(var i=0;i<aImg.length;i++){
			var a=(aImg[i].offsetLeft+aImg[i].offsetWidth/2)-oEvt.clientX;
			var b=(aImg[i].offsetTop+oDiv.offsetTop+aImg[i].offsetHeight/2)-oEvt.clientY;
			//斜边
			var c=Math.sqrt(a*a+b*b);
			//斜边长度/已走路程
			var dis=c;
			//求比值=已走路程/总路程（假设的感应范围）
			//因为要鼠标离得越近，图标越大，因此要1进去这个比值
			var scale=1-dis/200;
			if(scale<0.5) scale=0.5;
			
			//aIpt[i].value=scale.toFixed(2);
			aImg[i].style.width=128*scale+"px";
			aImg[i].style.height=128*scale+"px";
		}
	}
}
</script>
</head>

<body>
<div id="tips">
	<p>苹果菜单</p>
	<p>实现原理:</p>
	<p>1、布局:任意排列图片，图片展示的宽度为实际宽度的一半，为放大做准备。</p>
	<p>2、js:假设一个鼠标的所在位置，计算每个图片距离这个假设点的横向、纵向距离a和b，利用三角形原理求得第3边，即假设点到图片中心的距离c=Math.sqrt(a*a+b*b)。</p>
	<p>3、js:假设这个c是已走的路程，再假设一个总路程如200（感应范围），会得出一个比值=c/200，意思是在200范围内，鼠标越靠近图标，图标就越小；然而需要的效果正好相反，因此要用1-比值，这时鼠标越靠近图标，图标会越大。</p>
	<p>4、js:限定和使用这个比值，否侧图标会过大。</p>
</div>
<!--<div class="ipt">
    <input type="text" value="">
    <input type="text" value="">
    <input type="text" value="">
    <input type="text" value="">
    <input type="text" value="">
</div>-->
<div id="div1">
	<img src="img4/1.png"/>
	<img src="img4/2.png"/>
	<img src="img4/3.png"/>
	<img src="img4/4.png"/>
	<img src="img4/5.png"/>
</div>
</body>
</html>
